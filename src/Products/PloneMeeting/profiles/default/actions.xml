<?xml version="1.0"?>
<object name="portal_actions" meta_type="Plone Actions Tool"
        xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <action-provider name="portal_actions"/>
  <object name="document_actions" meta_type="CMF Action Category">

    <!-- Icon for hiding/showing persons -->
    <object name="togglePersons" meta_type="CMF Action" i18n:domain="PloneMeeting">
      <property name="title" i18n:translate="">show_or_hide_persons</property>
      <property name="description" i18n:translate="">Show or hide persons</property>
      <property name="url_expr">string:javascript:togglePersons()</property>
      <property name="icon_expr">string:$portal_url/users.gif</property>
      <property name="available_expr">python: object.portal_plonemeeting.showTogglePersons(context)</property>
      <property name="permissions">
        <element value="View"/>
      </property>
      <property name="visible">True</property>
    </object>
    <!-- Hide some Plone actions -->
    <object name="sendto" meta_type="CMF Action">
      <property name="visible">False</property>
    </object>
    <object name="print" meta_type="CMF Action">
      <property name="visible">False</property>
    </object>
  </object>

  <!-- Hide Plone actions "site map" and "accessibility" -->
  <object name="site_actions" meta_type="CMF Action Category">
   <object name="sitemap" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
   <object name="accessibility" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
  </object>

  <!-- Hide Plone action "change_state". -->
  <object name="folder_buttons" meta_type="CMF Action Category">
   <object name="change_state" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
  </object>

  <!-- Manage object_buttons actions. -->
  <object name="object_buttons" meta_type="CMF Action Category">
   <object name="rename" meta_type="CMF Action">
    <property name="icon_expr">string:$portal_url/rename_icon.gif</property>
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
   </object>
   <object name="cut" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
   <object name="copy" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
   <object name="paste" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
   <object name="delete" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
   <object name="documentviewer_convert" meta_type="CMF Action">
    <property name="icon_expr">string:$portal_url/documentviewer_convert.png</property>
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
  </object>

  <!-- Manage object actions. -->
  <object name="object" meta_type="CMF Action Category">
   <object name="documentviewer_settings" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">False</property>
   </object>
   <object name="folderContents" meta_type="CMF Action">
    <property name="permissions">
     <element value="Manage portal"/>
    </property>
    <property name="visible">True</property>
   </object>
   <object name="local_roles" meta_type="CMF Action">
    <property name="available_expr">python: not here.portal_plonemeeting.isInPloneMeeting(here, True)</property>
   </object>
   <!-- Hide the 'Faceted criteria' everywhere except in the configuration -->
   <object name="faceted.configure" meta_type="CMF Action">
    <property name="available_expr">python: here.portal_plonemeeting.showFacetedCriteriaAction(here)</property>
   </object>
  </object>

  <!-- Manage portal_tabs actions. -->
  <object name="portal_tabs" meta_type="CMF Action Category">
   <object name="index_html" meta_type="CMF Action">
    <property name="visible">True</property>
   </object>
  </object>

  <!-- Manage the user preferences action, change the link to point to @@personal-information instead
      of @@personal-preferences as we hide this tab to avoid user doing nasty things... -->
  <object name="user" meta_type="CMF Action Category">
   <object name="preferences" meta_type="CMF Action">
    <property name="url_expr">string:${globals_view/navigationRootUrl}/@@personal-information</property>
    <property name="visible">True</property>
   </object>
  </object>

  <!-- Hide some user-related Plone actions -->
  <object name="user" meta_type="CMF Action Category">
   <object name="dashboard" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
   <object name="undo" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
   <object name="addFavorite" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
   <object name="favorites" meta_type="CMF Action">
    <property name="visible">False</property>
   </object>
  </object>
</object>
