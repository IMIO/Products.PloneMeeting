<div class="navigateItem" i18n:domain="PloneMeeting" tal:condition="mayView"
               tal:define="meeting context/getMeeting;
                           mayView python: view.tool.checkMayView(meeting);
                           itemNumber python: context.getItemNumber(relativeTo='meeting');
                           totalNbOfItems python: meeting.numberOfItems();
                           firstItemNumber python:context.getSiblingItemNumber('first');
                           previousItemNumber python:context.getSiblingItemNumber('previous');
                           nextItemNumber python:context.getSiblingItemNumber('next');
                           lastItemNumber python:context.getSiblingItemNumber('last')">

    <tal:comment replace="nothing">Go to the meeting</tal:comment>
    <a href="#" tal:attributes="href string:${meeting/absolute_url}">
        <img title="pm_goto_meeting" i18n:attributes="title" style="cursor:pointer"
             tal:attributes="src string: ${view/portal_url}/gotoMeeting.png;"/>
    </a>

    <tal:comment replace="nothing">Go to the first item</tal:comment>
    <a href="#" tal:attributes="href string:${context/absolute_url}/@@object_goto?itemNumber:int=${firstItemNumber}">
        <img tal:condition="python: (itemNumber != 1) and (itemNumber != 2) and firstItemNumber"
             style="cursor:pointer" title="pm_goto_first" i18n:attributes="title"
             tal:attributes="src string: ${view/portal_url}/arrowLeftDouble.png;"/>
    </a>

    <tal:comment replace="nothing">Go to the previous item</tal:comment>
    <a href="#" tal:attributes="href string:${context/absolute_url}/@@object_goto?itemNumber:int=${previousItemNumber}">
        <img tal:condition="previousItemNumber" style="cursor:pointer"
             title="pm_goto_previous" i18n:attributes="title"
             tal:attributes="src string: ${view/portal_url}/arrowLeftSimple.png;"/>
    </a>

    <tal:comment replace="nothing">Explain which item is currently shown.
        Show total number of items only if the user has the permission to view the last item).</tal:comment>
    <span class="discreet">
        <span i18n:domain="plone" i18n:translate="">MeetingItem</span>&nbsp;
        <span tal:replace="itemNumber"/><span tal:condition="python: lastItemNumber!=False"> / <span tal:replace="totalNbOfItems"/></span>
    </span>

    <tal:comment replace="nothing">Go to the next item</tal:comment>
    <a href="#" tal:attributes="href string:${context/absolute_url}/@@object_goto?itemNumber:int=${nextItemNumber}">
        <img tal:condition="nextItemNumber" style="cursor:pointer"
             title="pm_goto_next" i18n:attributes="title"
             tal:attributes="src string: ${view/portal_url}/arrowRightSimple.png;"/>
    </a>

    <tal:comment replace="nothing">Go to the last item</tal:comment>
    <a href="#" tal:attributes="href string:${context/absolute_url}/@@object_goto?itemNumber:int=${lastItemNumber}">
        <img tal:condition="python: (itemNumber != totalNbOfItems) and (itemNumber != totalNbOfItems-1) and lastItemNumber"
             style="cursor:pointer" title="pm_goto_last" i18n:attributes="title"
             tal:attributes="src string: ${view/portal_url}/arrowRightDouble.png;"/>
    </a>

    <tal:comment replace="nothing">Go to meetingitem_view for a given item number</tal:comment>
    <span class="discreet" tal:condition="python: lastItemNumber!=False">&nbsp;&nbsp;
        <span i18n:translate="">goto_item</span>
        &nbsp;&nbsp;<input id="goto_meeting"
                           type="text"
                           size="3"
                           tal:attributes="onKeyPress string:if (event.keyCode==13) gotoItem($(this), $totalNbOfItems);" />
        <img tal:attributes="src string: ${view/portal_url}/gotoItem.png;
                             onClick string:javascript:gotoItem($$('input#goto_meeting'), ${totalNbOfItems});"
             style="cursor:pointer"/>
    </span>
</div>
