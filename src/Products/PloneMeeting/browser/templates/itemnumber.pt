<tal:defines define="mayChangeOrder view/mayChangeOrder;
                     itemNumber context/getItemNumber;">
  <table class="no-style-table" cellspacing="0" cellpadding="0"
         tal:condition="mayChangeOrder">
    <tr>
      <tal:comment replace="nothing">In the following "td"s, keep all tags as is: if you add spaces
         or carriage returns, the DOM tree created by Firefox will add additional nodes and some
         Javascript expressions will fail.</tal:comment>
      <td><input type="text" size="1" name="moveValue"
                 tal:attributes="id string:value_moveAction_${itemNumber};
                                 value itemNumber;
                                 onFocus string:onImageButtonFocus(${itemNumber});
                                 onKeyPress string:if (event.keyCode==13) moveItem(baseUrl='${context/absolute_url}', moveType='number', $$(this));"/>
      </td>
      <td>
        <img
           style="visibility: hidden;"
           title="move_several" i18n:attributes="title" name="moveImageButton"
           tal:attributes="id string:moveAction_${itemNumber};
                           src string: ${view/portal_url}/arrowSeveral.png;
                           onClick string:moveItem(baseUrl='${context/absolute_url}', moveType='number', $('input#value_moveAction_${itemNumber}'));"/>
      </td>
    </tr>
  </table>
  <tal:comment replace="nothing">For the others</tal:comment>
  <span tal:condition="not: mayChangeOrder"
        tal:replace="itemNumber"></span>
</tal:defines>
